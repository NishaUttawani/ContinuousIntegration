{"version":3,"sources":["../../src/components/graph-controls.js"],"names":["FaExpand","require","FaInfoCircle","steps","makeStyles","primary","controls","position","bottom","left","zIndex","sliderWrapper","backgroundColor","color","border","padding","marginRight","slider","top","marginLeft","button","outline","width","height","GraphControls","props","state","styles","val","maxZoom","minZoom","zoomToFit","e","sliderVal","target","value","zoomLevelNext","sliderToZoom","delta","zoomLevel","modifyZoom","zoomToSlider","zoom","bind","propTypes","PropTypes","string","number","isRequired","func","defaultProps"],"mappings":"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","file":"graph-controls.js","sourcesContent":["// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/*\n  Zoom slider and zoom to fit controls for GraphView\n*/\n\nimport React, {Component} from 'react';\nimport Radium from 'radium';\n\n// Only old-style imports for react-icons seem to work with gulp\nconst FaExpand = require('react-icons/lib/fa/expand');\nconst FaInfoCircle = require('react-icons/lib/fa/info-circle');\n\n\n\nconst steps = 100; // Slider steps\n\n\n\nfunction makeStyles(primary){\n  return {\n    controls: {\n      position: 'absolute',\n      bottom: '30px',\n      left: '15px',\n      zIndex: 100\n    },\n    sliderWrapper: {\n      backgroundColor: 'white',\n      color: primary,\n      border: `solid 1px lightgray`,\n      padding: '6.5px',\n      marginRight: '15px'\n    },\n    slider: {\n      position: 'relative',\n      top: 3,\n      marginLeft: 5,\n      marginRight: 5\n    },\n    button: {\n      backgroundColor: 'white',\n      color: primary,\n      border: `solid 1px lightgray`,\n      outline: 'none',\n      position: 'absolute',\n      width: 31,\n      height: 31,\n      top: -3\n    }\n  }\n}\n\n\n\nclass GraphControls extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      styles: makeStyles(props.primary)\n    }\n  }\n\n  // Convert slider val (0-steps) to original zoom value range\n  sliderToZoom(val){\n    return ((val) * (this.props.maxZoom - this.props.minZoom)/steps ) + this.props.minZoom\n  }\n\n  // Convert zoom val (minZoom-maxZoom) to slider range\n  zoomToSlider(val){\n    return (val - this.props.minZoom) * steps/(this.props.maxZoom - this.props.minZoom)\n  }\n\n  // Center graph-view on contents of svg > view\n  zoomToFit(){\n    this.props.zoomToFit();\n  }\n\n  // Modify current zoom of graph-view\n  zoom(e){\n    let sliderVal = e.target.value;\n    let zoomLevelNext = this.sliderToZoom(sliderVal);\n    let delta = zoomLevelNext-this.props.zoomLevel;\n    \n    if( zoomLevelNext <= this.props.maxZoom && zoomLevelNext >= this.props.minZoom){\n      this.props.modifyZoom(delta)\n    }\n  }\n\n  render() {\n    const styles = this.state.styles;\n\n    return (\n      <div style={styles.controls} id=\"GraphControls\">\n        <span style={styles.sliderWrapper}>\n          -\n          <input \n            id=\"typeinp\" \n            type=\"range\"\n            style={styles.slider} \n            min={this.zoomToSlider(this.props.minZoom)} \n            max={this.zoomToSlider(this.props.maxZoom)} \n            value={this.zoomToSlider(this.props.zoomLevel)} \n            onChange={this.zoom.bind(this)}\n            step=\"1\"/>\n          +\n        </span>\n        <button style={styles.button} onMouseDown={this.props.zoomToFit}>\n          <FaExpand/>\n        </button>\n      </div>\n    );\n  }\n}\n\nGraphControls.propTypes = {\n  primary: React.PropTypes.string,\n  minZoom: React.PropTypes.number,\n  maxZoom: React.PropTypes.number,\n  zoomLevel: React.PropTypes.number.isRequired,\n  zoomToFit: React.PropTypes.func.isRequired,\n  modifyZoom: React.PropTypes.func.isRequired\n}\n\nGraphControls.defaultProps = {\n  primary: 'dodgerblue',\n  minZoom: 0.15,\n  maxZoom: 1.5\n}\n\nexport default Radium(GraphControls)\n"]}