{"version":3,"sources":["../../src/components/graph-view.js"],"names":["d3","gridSize","gridSpacing","gridDot","minZoom","maxZoom","nodeSize","edgeHandleSize","edgeArrowSize","transitionTime","maxTitleChars","zoomDelay","zoomDur","styleToString","style","Object","keys","map","k","key","replace","toLowerCase","join","makeStyles","primary","light","dark","styles","wrapper","base","height","margin","display","boxShadow","opacity","background","focused","svg","alignContent","flex","node","color","stroke","fill","filter","strokeWidth","cursor","selected","shape","text","edge","markerEnd","arrow","baseString","selectedString","getTheta","pt1","pt2","xComp","x","yComp","y","theta","Math","atan2","getMidpoint","getDistance","sqrt","pow","GraphView","props","hideEdge","bind","showEdge","canSwap","drawEdge","dragNode","handleNodeDrag","handleDelete","handleWindowKeydown","handleWindowClicked","handleSvgClicked","handleNodeMouseDown","handleNodeMouseUp","handleNodeMouseEnter","handleNodeMouseLeave","arrowClicked","handleEdgeDrag","handleEdgeMouseDown","containZoom","handleZoom","handleZoomToFit","modifyZoom","setZoom","getPathDescriptionStr","getPathDescription","getEdgeHandleTransformation","getNodeTransformation","getNodeStyle","getEdgeStyle","getTextStyle","renderNodeText","renderEdges","renderNodes","renderView","state","viewTransform","zoomIdentity","selectionChanged","readOnly","enableFocus","edgeSwapQueue","nodeDefs","nodeTypes","type","nodeSubtypeDefs","nodeSubtypes","edgeDefs","edgeTypes","zoom","scaleExtent","on","select","window","refs","viewWrapper","call","setTimeout","nextProps","selectionType","source","nodeKey","setState","edgeDOMNode","attr","sourceNode","hoveredNode","swapEdge","target","swapErrBack","self","dragEdge","entities","append","event","dragged","ended","d","remove","shift","drawingEdge","canCreateEdge","canDeleteEdge","onSwapEdge","onCreateEdge","el","parentElement","classed","dx","dy","render","datum","onUpdateNode","dispatchEvent","Event","subject","canDeleteNode","onDeleteNode","onSelectNode","onDeleteEdge","i","ownerSVGElement","selectingNode","shiftKey","xycoords","mouse","onCreateNode","defaultPrevented","fromMouseup","which","tagName","getViewNode","dist","push","onSelectEdge","preventDefault","transform","parent","getBBox","console","warn","viewBBox","width","clientWidth","clientHeight","translate","next","max","modK","modX","modY","dur","target_zoom","center","extent","translate0","l","t","scale","transition","duration","sourceX","sourceY","targetX","targetY","src","trg","off","xOff","cos","yOff","sin","origin","PI","offset","domNode","d3Node","title","titleText","length","substring","lineOffset","textOffset","emptyType","selectAll","typeText","edges","data","exit","newEdges","enter","drag","merge","each","els","trans","shapeId","nodes","newNodes","subtype","view","propTypes","PropTypes","string","object","isRequired","array","bool","func","defaultProps"],"mappings":"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","file":"graph-view.js","sourcesContent":["// Copyright (c) 2016 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/*\n  GraphView is a Generic D3 Graph view with no application specific\n  code in it and no significant state except UI state (zoom, for example).\n*/\n\nimport React, {\n  Component\n} from 'react';\nimport * as d3 from 'd3';\n\nimport Radium from 'radium';\nimport GraphControls from './graph-controls.js'\n\n\n\n// The work area is infinite, but the point grid is fixed\nconst gridSize = 40960;\nconst gridSpacing = 36;\nconst gridDot = 2;\n\nconst minZoom = 0.15;\nconst maxZoom = 1.5;\n\nconst nodeSize = 150;\nconst edgeHandleSize = 50;\nconst edgeArrowSize = 8;\nconst transitionTime = 150; // D3 Enter/Exit duration\n\n// FIXME: This is unreasonably constrained - \n// but works for the worst case: \"WWWWWWWWW\".\nconst maxTitleChars = 9; // Per line. \n\nconst zoomDelay = 500; // ms\nconst zoomDur = 750; // ms\n\n\nfunction styleToString(style){\n  return Object.keys(style)\n    .map(function(k) {\n      let key = k.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      return `${key}:${style[k]}`;\n    }).join(\";\")\n}\n\n\nfunction makeStyles(primary='dodgerblue', light='white', dark='black'){\n let styles = {\n    wrapper: {\n      base: {\n        height: '100%',\n        margin: 0,\n        display: 'flex',\n        boxShadow: 'none',\n        opacity: 0.5,\n        background: '#F9F9F9'\n      },\n      focused: {\n        opacity: 1\n      }\n    },\n    svg: {\n      base: {\n        alignContent: 'stretch',\n        flex: 1\n      }\n    },\n    node: {\n      base: {\n        color: primary,\n        stroke: light,\n        fill: light,\n        filter: 'url(#dropshadow)',\n        strokeWidth: '0.5px',\n        cursor: 'pointer'\n      },\n      selected: {\n        color: light,\n        stroke: primary,\n        fill: primary\n      }\n    },\n    shape: {\n      fill: 'inherit',\n      stroke: dark,\n      strokeWidth: '0.5px'\n    },\n    text: {\n      base:{\n        fill: dark,\n        stroke: dark\n      },\n      selected: {\n        fill: light,\n        stroke: light\n      }\n    },\n    edge: {\n      base: {\n        color: light,\n        stroke: primary,\n        strokeWidth: '2px',\n        markerEnd: 'url(#end-arrow)',\n        cursor: 'pointer'\n      },\n      selected: {\n        color: primary,\n        stroke: primary\n      }\n    },\n    arrow: {\n      fill: primary\n    }\n  }\n\n  // Styles need to be strings for D3 to apply them all at once\n  styles.node.baseString = styleToString(styles.node.base);\n  styles.node.selectedString = styleToString({...styles.node.base, ...styles.node.selected});\n  styles.text.baseString= styleToString(styles.text.base);\n  styles.text.selectedString = styleToString({...styles.text.base, ...styles.text.selected});\n  styles.edge.baseString = styleToString(styles.edge.base);\n  styles.edge.selectedString = styleToString({...styles.edge.base, ...styles.edge.selected});\n\n  return styles\n}\n\n// any objects with x & y properties\nfunction getTheta(pt1, pt2) {\n  const xComp = pt2.x - pt1.x;\n  const yComp = pt2.y - pt1.y;\n  const theta = Math.atan2(yComp, xComp);\n  return theta\n}\n\nfunction getMidpoint(pt1, pt2) {\n  const x = (pt2.x + pt1.x)/2;\n  const y = (pt2.y + pt1.y)/2;\n\n  return {x: x, y: y};\n}\n\nfunction getDistance(pt1, pt2) {\n  return  Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2))\n}\n\n\n\nclass GraphView extends Component {\n\n  constructor(props) {\n    super(props);\n\n    // Bind methods\n    this.hideEdge = this.hideEdge.bind(this);\n    this.showEdge = this.showEdge.bind(this);\n    this.canSwap = this.canSwap.bind(this);\n    this.drawEdge = this.drawEdge.bind(this);\n    this.dragNode = this.dragNode.bind(this);\n    this.handleNodeDrag = this.handleNodeDrag.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleWindowKeydown = this.handleWindowKeydown.bind(this);\n    this.handleWindowClicked = this.handleWindowClicked.bind(this);\n    this.handleSvgClicked = this.handleSvgClicked.bind(this);\n    this.handleNodeMouseDown = this.handleNodeMouseDown.bind(this);\n    this.handleNodeMouseUp = this.handleNodeMouseUp.bind(this);\n    this.handleNodeMouseEnter = this.handleNodeMouseEnter.bind(this);\n    this.handleNodeMouseLeave = this.handleNodeMouseLeave.bind(this);\n    this.arrowClicked = this.arrowClicked.bind(this);\n    this.handleEdgeDrag = this.handleEdgeDrag.bind(this);\n    this.handleEdgeMouseDown = this.handleEdgeMouseDown.bind(this);\n    this.containZoom = this.containZoom.bind(this);\n    this.handleZoom = this.handleZoom.bind(this);\n    this.handleZoomToFit = this.handleZoomToFit.bind(this);\n    this.modifyZoom = this.modifyZoom.bind(this);\n    this.setZoom = this.setZoom.bind(this);\n    this.getPathDescriptionStr = this.getPathDescriptionStr.bind(this);\n    this.getPathDescription = this.getPathDescription.bind(this);\n    this.getEdgeHandleTransformation = this.getEdgeHandleTransformation.bind(this);\n    this.getNodeTransformation = this.getNodeTransformation.bind(this);\n    this.getNodeStyle = this.getNodeStyle.bind(this);\n    this.getEdgeStyle = this.getEdgeStyle.bind(this);\n    this.getTextStyle = this.getTextStyle.bind(this);\n    this.renderNodeText = this.renderNodeText.bind(this);\n    this.renderEdges = this.renderEdges.bind(this);\n    this.renderNodes = this.renderNodes.bind(this);\n    this.renderView = this.renderView.bind(this);\n\n    this.state = {\n      viewTransform: d3.zoomIdentity,\n      selectionChanged: false,\n      focused: true,\n      readOnly: props.readOnly || false,\n      enableFocus: props.enableFocus || false, // Enables focus/unfocus\n      edgeSwapQueue: [],    // Stores nodes to be swapped\n      styles: makeStyles(props.primary, props.light, props.dark),\n      nodeDefs: Object.keys(props.nodeTypes).map(function(type){\n        return props.nodeTypes[type].shape\n      }),                   // SVG definitions for nodes\n      nodeSubtypeDefs: Object.keys(props.nodeSubtypes).map(function(type){\n        return props.nodeSubtypes[type].shape\n      }),  \n      edgeDefs: Object.keys(props.edgeTypes).map(function(type){\n        return props.edgeTypes[type].shape\n      })                    // SVG definitions for edges\n    };\n\n    this.zoom = d3.zoom()\n                  .scaleExtent([minZoom, maxZoom])\n                  .on(\"zoom\", this.handleZoom);\n  }\n\n  componentDidMount() {\n    // Window event listeners for keypresses\n    // and to control blur/focus of graph\n    d3.select(window)\n      .on('keydown', this.handleWindowKeydown)\n      .on('click', this.handleWindowClicked);\n\n    var svg = d3.select(this.refs.viewWrapper)\n      .on(\"touchstart\", this.containZoom)\n      .on(\"touchmove\", this.containZoom)\n      .on(\"click\", this.handleSvgClicked)\n      .select(\"svg\")\n      .call(this.zoom);\n\n    // On the initial load, the 'view' <g> doesn't exist\n    // until componentDidMount. Manually render the first view.\n    this.renderView();\n\n    setTimeout(function(){\n      this.handleZoomToFit();\n    }.bind(this), zoomDelay)\n    \n  }\n\n  componentWillUnmount() {\n    // Remove window event listeners\n    d3.select(window)\n      .on('keydown', null)\n      .on('click', null);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let selectionChanged = false;\n    let selected = this.props.selected;\n\n    if (selected != nextProps.selected) {\n      selectionChanged = true\n    }\n\n    let selectionType = null; \n    if (nextProps.selected && nextProps.selected.source){\n      selectionType = 'edge'\n    } else if (nextProps.selected && nextProps.selected[this.props.nodeKey]) {\n      selectionType = 'node'\n    }\n\n    this.setState({\n      selectionChanged: selectionChanged,\n      selectionType: selectionType,\n      readOnly: nextProps.readOnly || false\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.state.selectionChanged) {\n      this.setState({\n        selectionChanged: false\n      });\n    }\n  }\n\n  /*\n   * Handlers/Interaction\n   */\n\n  hideEdge(edgeDOMNode){\n    d3.select(edgeDOMNode)\n      .attr(\"opacity\", 0)\n  }\n\n  showEdge(edgeDOMNode){\n    d3.select(edgeDOMNode)\n      .attr(\"opacity\", 1)\n  }\n\n  canSwap(sourceNode, hoveredNode, swapEdge){\n    return swapEdge.source != sourceNode[this.props.nodeKey] ||\n          swapEdge.target != hoveredNode[this.props.nodeKey]\n  }\n\n  drawEdge(sourceNode, target, swapErrBack){\n    const self = this;\n \n    const dragEdge = d3.select(this.refs.entities).append('svg:path')\n\n    dragEdge.attr('class', 'link dragline')\n      .attr(\"style\", this.state.styles.edge.selectedString)\n      .attr('d', self.getPathDescriptionStr(sourceNode.x, sourceNode.y, target.x, target.y));\n\n    d3.event.on(\"drag\", dragged).on(\"end\", ended);\n\n    function dragged(d) {\n      dragEdge.attr( 'd', self.getPathDescriptionStr(sourceNode.x, sourceNode.y, d3.event.x, d3.event.y ) )\n    }\n\n    function ended(d) {\n      dragEdge.remove();\n\n      let swapEdge = self.state.edgeSwapQueue.shift();\n      let hoveredNode = self.state.hoveredNode;\n\n      self.setState({\n        edgeSwapQueue: self.state.edgeSwapQueue, \n        drawingEdge: false \n      });\n\n      if(hoveredNode && self.props.canCreateEdge(sourceNode, hoveredNode)){\n\n        if( swapEdge ){\n          if(self.props.canDeleteEdge(swapEdge) && self.canSwap(sourceNode,hoveredNode,swapEdge)){\n            self.props.onSwapEdge(sourceNode, hoveredNode, swapEdge)\n          } else {\n            swapErrBack()\n          }\n        } else {\n          self.props.onCreateEdge(sourceNode, hoveredNode)\n        }\n      } else {\n        if (swapErrBack){\n          swapErrBack()\n        }\n      }\n    }\n  }\n\n  dragNode(){\n    const self = this;\n\n    const el = d3.select(d3.event.target.parentElement); // Enclosing 'g' element\n    el.classed(\"dragging\", true);\n    d3.event.on(\"drag\", dragged).on(\"end\", ended);\n\n    function dragged(d) {\n      if (self.state.readOnly) return;\n      d3.select(this).attr('transform', function(d) {\n        d.x += d3.event.dx;\n        d.y += d3.event.dy;\n        return 'translate(' + d.x + ',' + d.y + ')';\n      });\n      self.render();\n    }\n\n    function ended() {\n      el.classed(\"dragging\", false);\n\n      if(!self.state.readOnly){\n        var d = d3.select(this).datum();\n        self.props.onUpdateNode(d);\n      }\n      \n      // For some reason, mouseup isn't firing \n      // - manually firing it here\n      d3.select(this).node().dispatchEvent(new Event(\"mouseup\"))\n    }\n  }\n\n  // Node 'drag' handler\n  handleNodeDrag() {\n    if(this.state.drawingEdge && !this.state.readOnly){\n      const target = {x: d3.event.subject.x, y: d3.event.subject.y }\n      this.drawEdge(d3.event.subject, target )\n    } else {\n      this.dragNode()\n    }\n  }\n\n  handleDelete(){\n    if (this.state.readOnly) return;\n    if (this.props.selected) {\n      const selected = this.props.selected;\n      if (this.state.selectionType === 'node' && this.props.canDeleteNode(selected)) {\n          this.props.onDeleteNode(selected);\n          this.props.onSelectNode(null);\n      } else if (this.state.selectionType === 'edge' && this.props.canDeleteEdge(selected)) {\n          this.props.onDeleteEdge(selected);\n          this.props.onSelectNode(null);\n      }\n    }\n  }\n\n  handleWindowKeydown(d, i) {\n    // Conditionally ignore keypress events on the window \n    // if the Graph isn't focused\n    if (this.state.focused) {\n      switch (d3.event.key) {\n        case \"Delete\":\n          this.handleDelete()\n          break;\n        case \"Backspace\":\n          this.handleDelete()\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  handleWindowClicked(d, i) {\n    if (this.state.focused && !event.target.ownerSVGElement){\n      if (this.state.enableFocus){\n        this.setState({\n          focused: false\n        });\n      }\n    }\n  }\n\n  handleSvgClicked(d, i) {\n    if (!this.state.focused){\n      this.setState({\n        focused: true\n      })\n    }\n\n    if (this.state.selectingNode) {\n      this.setState({\n        selectingNode: false\n      })\n    } else {\n\n      this.props.onSelectNode(null);\n\n      if (!this.state.readOnly && d3.event.shiftKey) {\n        var xycoords = d3.mouse(event.target);\n        this.props.onCreateNode(xycoords[0],xycoords[1]);\n      }\n\n    }\n  }\n\n  handleNodeMouseDown(d) {\n    if (d3.event.defaultPrevented) return; // dragged\n\n    if (d3.event.shiftKey) {\n\n      this.setState({\n        selectingNode: true,\n        drawingEdge: true,\n        focused: true\n      })\n\n    } else {\n      this.setState({\n        selectingNode: true,\n        focused: true\n      })\n    }\n  }\n\n  handleNodeMouseUp(d) {\n\n    if(this.state.selectingNode){\n      this.props.onSelectNode(d);\n      this.setState({selectingNode: false});\n    }\n  }\n\n  handleNodeMouseEnter(d) {\n\n    if (this.state.hoveredNode != d){\n      this.setState({\n        hoveredNode: d\n      })\n    }\n  }\n\n  handleNodeMouseLeave(d) {\n\n    // For whatever reason, mouseLeave is fired when edge dragging ends \n    // (and mouseup is not fired). This clears the hoverNode state prematurely\n    // resulting in swapEdge failing to fire. \n    // Detecting & ignoring mouseLeave events that result from drag ending here\n    const fromMouseup = event.which == 1; \n    if (this.state.hoveredNode === d && !fromMouseup){\n      this.setState({\n        hoveredNode: null\n      })\n    }\n  }\n\n  // One can't attach handlers to 'markers' or obtain them from the event.target\n  // If the click occurs within a certain radius of edge target,\n  // assume the click occurred on the arrow\n  arrowClicked(d){\n\n    if(event.target.tagName != 'path') return false; // If the handle is clicked\n\n    const xycoords = d3.mouse(event.target);\n    const target = this.props.getViewNode(d.target);\n    const dist = getDistance({x: xycoords[0], y: xycoords[1]}, target);\n\n    return dist < nodeSize/2 + edgeArrowSize + 10 // or *2 or ^2?\n  }\n\n  handleEdgeDrag(d) {\n    if(!this.state.readOnly && this.state.drawingEdge ){\n      const edgeDOMNode = event.target.parentElement;\n      const sourceNode = this.props.getViewNode(d.source);\n      const xycoords = d3.mouse(event.target)\n      const target = {x: xycoords[0], y: xycoords[1]}\n\n      this.hideEdge(edgeDOMNode);\n      this.drawEdge(sourceNode, target, this.showEdge.bind(this, edgeDOMNode))      \n    }\n  }\n\n  handleEdgeMouseDown(d) {\n\n    if (!this.state.readOnly && this.arrowClicked(d)) {\n      this.state.edgeSwapQueue.push(d)  // Set this edge aside for redrawing\n      this.setState({\n        drawingEdge: true,\n        edgeSwapQueue: this.state.edgeSwapQueue,\n        focused: true\n      })\n    } else{\n      this.props.onSelectEdge(d);\n      this.setState({\n        focused: true\n      })\n    }\n    \n  }\n\n  // Keeps 'zoom' contained\n  containZoom() {\n    d3.event.preventDefault();\n  }\n\n  // View 'zoom' handler\n  handleZoom() {\n    if (this.state.focused) {\n      this.setState({\n        viewTransform: d3.event.transform\n      });\n    }\n  }\n\n  // Zooms to contents of this.refs.entities\n  handleZoomToFit() {\n    const parent = d3.select(this.refs.viewWrapper).node();\n    const entities = d3.select(this.refs.entities).node();\n\n    // If the component is used headlessly (testing, etc...), \n    // this method is sometimes absent\n    if (typeof entities.getBBox === 'undefined'){ \n      console.warn(\"Node has no method called getBBox\"); return\n    }\n    \n    const viewBBox = entities.getBBox();\n\n    const width = parent.clientWidth;\n    const height = parent.clientHeight;\n\n    let dx, \n        dy, \n        x, \n        y,\n        translate = [this.state.viewTransform.x, this.state.viewTransform.y], \n        next = {x: translate[0], y: translate[1], k:  this.state.viewTransform.k} \n\n    if (viewBBox.width > 0 && viewBBox.height > 0){\n      // There are entities\n      dx = viewBBox.width,\n      dy = viewBBox.height,\n      x = viewBBox.x + viewBBox.width / 2,\n      y = viewBBox.y + viewBBox.height / 2;\n\n      next.k = .9 / Math.max(dx / width, dy / height);\n\n      if (next.k < minZoom){\n        next.k = minZoom\n      } else if (next.k > maxZoom){\n        next.k = maxZoom\n      }\n\n      next.x = width / 2 - next.k * x;\n      next.y = height / 2 - next.k * y;\n    }\n    else{\n      next.k = (minZoom + maxZoom) / 2;\n      next.x = 0\n      next.y = 0;\n    }\n\n    this.setZoom(next.k, next.x, next.y, zoomDur)\n  }\n\n  // Updates current viewTransform with some delta\n  modifyZoom(modK=0, modX=0, modY=0, dur=0){\n    const parent = d3.select(this.refs.viewWrapper).node();\n    const width = parent.clientWidth;\n    const height = parent.clientHeight;\n\n    let target_zoom,\n        center = [width/2, height/2],\n        extent = this.zoom.scaleExtent(),\n        translate = [this.state.viewTransform.x, this.state.viewTransform.y],\n        translate0 = [],\n        l = [],\n        next = {x: translate[0], y: translate[1], k:  this.state.viewTransform.k};\n\n    target_zoom = next.k * (1 + modK);\n\n    if (target_zoom < extent[0] || target_zoom > extent[1]) { return false; }\n\n    translate0 = [(center[0] - next.x) / next.k, (center[1] - next.y) / next.k];\n    next.k = target_zoom;\n    l = [translate0[0] * next.k + next.x, translate0[1] * next.k + next.y];\n\n    next.x += center[0] - l[0] + modX;\n    next.y += center[1] - l[1] + modY;\n\n    this.setZoom(next.k, next.x, next.y, dur)\n  }\n\n  // Programmatically resets zoom\n  setZoom(k=1, x=0, y=0, dur=0){\n\n    var t = d3.zoomIdentity.translate(x, y).scale(k);\n\n    d3.select('svg')\n      .transition()\n      .duration(dur)\n      .call(this.zoom.transform, t);\n  }\n\n  /*\n   * Render\n   */\n  // Returns the svg's path.d' (geometry description) string from edge data\n  // edge.source and edge.target are node ids\n  getPathDescriptionStr(sourceX, sourceY, targetX, targetY){\n    return `M${sourceX},${sourceY}L${targetX},${targetY}`\n  }\n\n  getPathDescription(edge) {\n    let src = this.props.getViewNode(edge.source);\n    let trg = this.props.getViewNode(edge.target);\n\n    if(src && trg){\n      const off = nodeSize/2; // from the center of the node to the perimeter\n\n      const theta = getTheta(src, trg);\n\n      const xOff = off * Math.cos(theta);\n      const yOff = off * Math.sin(theta);\n\n      return this.getPathDescriptionStr(src.x + xOff, src.y + yOff, trg.x - xOff, trg.y - yOff )\n    } \n    console.warn(\"Unable to get source or target for \", edge);\n    return \"\"\n  }\n\n  getEdgeHandleTransformation(edge) {\n    let src = this.props.getViewNode(edge.source);\n    let trg = this.props.getViewNode(edge.target);\n\n    let origin = getMidpoint(src, trg);\n    let x = origin.x;\n    let y = origin.y;\n    let theta = getTheta(src, trg)*180/Math.PI;\n    let offset = -edgeHandleSize/2;\n\n    return `translate(${x}, ${y}) rotate(${theta}) translate(${offset}, ${offset})`\n  }\n\n  // Returns a d3 transformation string from node data\n  getNodeTransformation(node) {\n    return 'translate(' + node.x + ',' + node.y + ')';\n  }\n\n  getNodeStyle(d, selected){\n    return d === selected ? \n      this.state.styles.node.selectedString : \n      this.state.styles.node.baseString\n  }\n\n  getEdgeStyle(d, selected){\n    return d === selected ? \n      this.state.styles.edge.selectedString : \n      this.state.styles.edge.baseString\n  }\n\n  getTextStyle(d, selected){\n    return d === selected ? \n      this.state.styles.text.selectedString : \n      this.state.styles.text.baseString\n  }\n\n  // Renders 'node.title' into node element\n  renderNodeText(d, domNode) {\n    let d3Node = d3.select(domNode);\n    let title = d.title;\n\n    let titleText = title.length < maxTitleChars ? title : \n      `${title.substring(0, maxTitleChars)}...`;\n\n    let lineOffset = 18;\n    let textOffset = d.type === this.props.emptyType ? -9 : 18;\n\n    d3Node.selectAll(\"text\").remove();\n    \n    let typeText = this.props.nodeTypes[d.type].typeText;\n    let style = this.getTextStyle(d, this.props.selected);\n\n    let el = d3Node.append('text')\n      .attr('text-anchor', 'middle')\n      .attr('style', style)\n      .attr('dy', textOffset);\n\n    el.append('tspan')\n      .attr('opacity', 0.5)\n      .text(typeText);\n\n    if (title) {\n      // User defined/secondary text\n      el.append('tspan').text(titleText).attr('x', 0).attr('dy', lineOffset)\n\n      el.append('title').text(title);\n    }\n  }\n\n  // Renders 'edges' into entities element\n  renderEdges(entities, edges) {\n    var self = this;\n\n    // Join Data\n    var edges = entities.selectAll(\"g.edge\")\n      .data(edges, function(d) {\n        // IMPORTANT: this snippet allows D3 to detect updated vs. new data\n        return `${d.source}:${d.target}`;\n      });\n    // Remove Old\n    edges.exit()\n        .remove();\n\n    // Add New\n    var newEdges = edges.enter().append(\"g\").classed(\"edge\", true);\n\n    newEdges\n      .on(\"mousedown\", this.handleEdgeMouseDown)\n      .call(d3.drag().on(\"start\", this.handleEdgeDrag));\n\n    newEdges.attr(\"opacity\", 0)\n      .transition()\n      .duration(transitionTime)\n      .attr(\"opacity\", 1);\n\n    newEdges.append('path');\n    newEdges.append(\"use\");\n\n    // Merge \n    edges.enter().merge(edges)\n\n    // Update All\n    entities.selectAll('g.edge')\n      .each(function(d, i, els) {\n\n        let style = self.getEdgeStyle(d, self.props.selected);\n        let trans = self.getEdgeHandleTransformation(d)\n        d3.select(this)\n          .attr(\"style\", style)\n          .select(\"use\")\n            .attr(\"xlink:href\", function(d){ return self.props.edgeTypes[d.type].shapeId })\n            .attr(\"width\", edgeHandleSize)\n            .attr(\"height\", edgeHandleSize)\n            .attr(\"transform\", trans);\n      })\n      .select('path')\n        .attr('d', this.getPathDescription);\n  }\n\n  // Renders 'nodes' into entities element\n  renderNodes(entities, nodes) {\n    var self = this;\n    const nodeKey = this.props.nodeKey\n\n    // Join Data \n    var nodes = entities.selectAll(\"g.node\").data(nodes, function(d) {\n      // IMPORTANT: this snippet allows D3 to detect updated vs. new data\n      return d[nodeKey]\n    });\n\n    // Animate/Remove Old \n    nodes.exit()\n      .transition()  \n      .duration(transitionTime)\n      .attr(\"opacity\", 0)\n      .remove();\n\n    // Add New\n    var newNodes = nodes.enter().append(\"g\").classed(\"node\", true)\n    \n    newNodes.attr(\"style\", this.state.styles.node.baseString)\n      .on(\"mousedown\", this.handleNodeMouseDown)\n      .on(\"mouseup\", this.handleNodeMouseUp)\n      .on(\"mouseenter\", this.handleNodeMouseEnter)\n      .on(\"mouseleave\", this.handleNodeMouseLeave)\n      .call(d3.drag().on(\"start\", this.handleNodeDrag))\n\n    newNodes.append(\"use\").classed(\"subtypeShape\", true)\n        .attr(\"x\", -nodeSize/2).attr(\"y\",  -nodeSize/2).attr(\"width\", nodeSize).attr(\"height\", nodeSize);\n\n    newNodes.append(\"use\").classed(\"shape\", true)\n        .attr(\"x\", -nodeSize/2).attr(\"y\",  -nodeSize/2).attr(\"width\", nodeSize).attr(\"height\", nodeSize);\n\n    newNodes\n      .attr(\"opacity\", 0)\n      .transition()  \n      .duration(transitionTime)\n      .attr(\"opacity\", 1)\n\n    // Merge\n    nodes.enter().merge(nodes);\n\n    // Update All\n    entities.selectAll('g.node')\n      .each(function(d, i, els) {\n        let style = self.getNodeStyle(d, self.props.selected);\n\n        d3.select(this)\n          .attr(\"style\", style)\n\n        if(d.subtype){\n          d3.select(this).select(\"use.subtypeShape\")\n            .attr(\"xlink:href\", function(d){ return self.props.nodeSubtypes[d.subtype].shapeId }); \n        } else {\n          d3.select(this).select(\"use.subtypeShape\")\n            .attr(\"xlink:href\", function(d){ return null }); \n        }\n\n        d3.select(this).select(\"use.shape\")\n            .attr(\"xlink:href\", function(d){ return self.props.nodeTypes[d.type].shapeId }); \n\n        self.renderNodeText(d, this);\n      })\n      .attr('transform', this.getNodeTransformation);\n  }\n\n  // Renders 'graph' into view element\n  // All DOM updates within 'view' are managed by D3\n  renderView() {\n    var nodes = this.props.nodes;\n    var edges = this.props.edges;\n\n    // Update the view w/ new zoom/pan\n    const view = d3.select(this.refs.view)\n      .attr(\"transform\", this.state.viewTransform);\n\n    const entities = d3.select(this.refs.entities)\n\n    this.renderNodes(entities, nodes);\n    this.renderEdges(entities, edges);\n  }\n\n  render() {\n    this.renderView();\n    const styles = this.state.styles;\n\n    return (\n      <div  id='viewWrapper'\n            ref='viewWrapper'\n            style={[\n              styles.wrapper.base,\n              !!this.state.focused && styles.wrapper.focused,\n              this.props.style\n            ]}>\n        <svg  id='svgRoot' \n              style={styles.svg.base}>\n          <defs>\n\n            {this.state.nodeDefs}\n            {this.state.nodeSubtypeDefs}\n            {this.state.edgeDefs}\n\n            <marker id=\"end-arrow\" \n                    viewBox={`0 -${edgeArrowSize/2} ${edgeArrowSize} ${edgeArrowSize}`}\n                    refX={`${edgeArrowSize/2}`} \n                    markerWidth={`${edgeArrowSize}`} \n                    markerHeight={`${edgeArrowSize}`} \n                    orient=\"auto\">\n              <path style={ styles.arrow } \n                    d={`M0,-${edgeArrowSize/2}L${edgeArrowSize},0L0,${edgeArrowSize/2}`}>\n              </path>\n            </marker>\n\n            <pattern  id=\"grid\"\n                      width={gridSpacing}\n                      height={gridSpacing}\n                      patternUnits=\"userSpaceOnUse\">\n              <circle cx={gridSpacing/2}\n                      cy={gridSpacing/2}\n                      r={gridDot}\n                      fill=\"lightgray\">\n              </circle>\n            </pattern>\n\n            <filter id=\"dropshadow\" height=\"130%\">\n              <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\"/>\n              <feOffset dx=\"2\" dy=\"2\" result=\"offsetblur\"/>\n              <feComponentTransfer>\n                <feFuncA type=\"linear\" slope=\"0.1\"/>\n              </feComponentTransfer>\n              <feMerge>\n                <feMergeNode/>\n                <feMergeNode in=\"SourceGraphic\"/>\n              </feMerge>\n            </filter>\n\n          </defs>\n          <g id='view' ref='view'>\n            <rect className='background'\n                  x={-gridSize/4}\n                  y={-gridSize/4}\n                  width={ gridSize }\n                  height={ gridSize }\n                  fill=\"url(#grid)\">\n            </rect>\n            <g id='entities' ref='entities'></g>\n          </g>\n\n          }\n        </svg>\n        <GraphControls  primary={this.props.primary}\n                        minZoom={minZoom} \n                        maxZoom={maxZoom} \n                        zoomLevel={this.state.viewTransform.k} \n                        zoomToFit={this.handleZoomToFit} \n                        modifyZoom={this.modifyZoom}>\n        </GraphControls>\n      </div>\n    );\n  }\n\n}\n\nGraphView.propTypes = {\n  primary: React.PropTypes.string,\n  light: React.PropTypes.string,\n  dark: React.PropTypes.string,\n  style: React.PropTypes.object,\n  nodeKey: React.PropTypes.string.isRequired,\n  emptyType: React.PropTypes.string.isRequired,\n  nodes: React.PropTypes.array.isRequired,\n  edges: React.PropTypes.array.isRequired,\n  readOnly: React.PropTypes.bool,\n  enableFocus: React.PropTypes.bool,\n  selected: React.PropTypes.object.isRequired,\n  nodeTypes: React.PropTypes.object.isRequired,\n  nodeSubtypes: React.PropTypes.object.isRequired,\n  edgeTypes: React.PropTypes.object.isRequired,\n  getViewNode: React.PropTypes.func.isRequired,\n  onSelectNode: React.PropTypes.func.isRequired,\n  onCreateNode: React.PropTypes.func.isRequired,\n  onUpdateNode: React.PropTypes.func.isRequired,\n  canDeleteNode: React.PropTypes.func,\n  onDeleteNode: React.PropTypes.func.isRequired,\n  onSelectEdge: React.PropTypes.func.isRequired,\n  canCreateEdge: React.PropTypes.func,\n  onCreateEdge: React.PropTypes.func.isRequired,\n  onSwapEdge: React.PropTypes.func.isRequired,\n  canDeleteEdge: React.PropTypes.func,\n  onDeleteEdge: React.PropTypes.func.isRequired\n};\n\nGraphView.defaultProps = {\n  primary: 'dodgerblue',\n  light: '#FFF',\n  dark: '#000',\n  readOnly: false,\n  canDeleteNode: () => true,\n  canCreateEdge: () => true,\n  canDeleteEdge: () => true,\n};\n\nexport default Radium(GraphView)\n"]}